/* 3D Container and Layers */
.inner-border-3d-container {
    position: relative;
    width: 100vw;
    height: 100vh;
    perspective: 1000px;
    transform-style: preserve-3d;
    overflow: hidden;
}

.layer-1, .layer-2, .layer-3, .layer-4, .layer-5 {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    transition: transform 0.1s ease-out;
    will-change: transform;
}

.layer-1 {
    z-index: 1;
}

.layer-2 {
    z-index: 2;
}

.layer-3 {
    z-index: 3;
}

.layer-4 {
    z-index: 4;
}

.layer-5 {
    z-index: 5;
}

.text {
    position: absolute;
    left: 50%;
    bottom: 22.5%;
    transform: translate(-50%, 0%);
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    white-space: nowrap;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    font-family: var(--font-thedus-wide-light);
    font-size: 15rem;
    font-style: normal;
    font-weight: 300;
    line-height: 55%;
    color: transparent;
    -webkit-text-stroke: 2px #000;

    /* Gradient mask for text fade effect */
    -webkit-mask: linear-gradient(180deg, rgba(0, 0, 0, 0.00) 30%, #000 90%);
    mask: linear-gradient(180deg, rgba(0, 0, 0, 0.00) 30%, #000 90%);
}

.text__normal {
    color: #000;
}

.image {
    position: absolute;
    left: 50%;
    bottom: 25rem;
    transform: translate(-50%, 50%);
    width: auto;
    object-fit: contain;
    filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.15));
}

.video {
    position: relative;
    left: 0%;
    bottom: 0rem;
    transform: translate(-50%, 50%);
    width: 40rem;
    max-width: 100%;
    object-fit: contain;
}

.video-mask-container {
    position: absolute;
    left: 50%;
    top: 40%;
    transform: translate(-50%, -50%);
    width: 724px;
    height: 541px;
}

.video-mask-svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    pointer-events: none;
}

.masked-video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    -webkit-mask: url(#video-mask);
    mask: url(#video-mask);
    /* Improve video rendering quality */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    image-rendering: high-quality;
    /* Hardware acceleration for smoother playback */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    backface-visibility: hidden;
    /* Drop shadow for depth */
    filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.15));
    -webkit-backface-visibility: hidden;
    /* Optimize for video content */
    will-change: transform, opacity;
    /* Ensure smooth scaling */
    -webkit-image-rendering: -webkit-optimize-contrast;
}

/* Enhanced 3D effect styles */
.layer-1 svg, .layer-2 .text, .layer-3 .video-mask-container, .layer-4 .image {
    transform-origin: center center;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

/* Add subtle shadows for depth */
.layer-2 .text {
    text-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

.layer-3 .video-mask-container {
    filter: drop-shadow(0 15px 25px rgba(0, 0, 0, 0.15));
}

.layer-4 .image {
    filter: drop-shadow(0 20px 30px rgba(0, 0, 0, 0.2));
}

/* Smooth mouse interaction */
@media (prefers-reduced-motion: no-preference) {
    .inner-border-3d-container {
        transform-style: preserve-3d;
    }
    
    .layer-1, .layer-2, .layer-3, .layer-4, .layer-5 {
        transition: transform 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
}

/* Disable 3D effects for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
    .inner-border-3d-container {
        perspective: none;
    }
    
    .layer-1, .layer-2, .layer-3, .layer-4, .layer-5 {
        transform: none !important;
        transition: none;
    }
}